(this["webpackJsonpnyc-park-events-client"]=this["webpackJsonpnyc-park-events-client"]||[]).push([[0],{136:function(e,t,n){},138:function(e,t,n){},153:function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r),c=n(49),a=n.n(c),s=(n(136),n(28)),o=n.n(s),l=n(38),j=n(7),d=(n(138),n(51)),u=n(83),b=n(242),x=n(244),h=n(230),f=n(6),p=n(234),m=n(245),O=n(248),g=n(237),v=n(249),y=n(70),S=n.n(y),w=n(246),C=n(27),_=n.n(C),k=n(238),L=n(79),W=n.n(L),T=n(108),z=n.n(T),D=n(219),E=n(247),I=n(0);n(141);var N=Object(f.a)((function(e){e.expand;var t=Object(u.a)(e,["expand"]);return Object(I.jsx)(g.a,Object(d.a)({},t))}))((function(e){var t=e.theme;return{transform:e.expand?"rotate(270deg)":"rotate(0deg)",marginLeft:"auto",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest})}})),P=Object(h.a)({root:{minWidth:325,maxWidth:325,display:"inline-block",boxShadow:"0 8px 40px -12px rgba(0,0,0,0.3)","&:hover":{boxShadow:"0 16px 70px -12.125px rgba(0,0,0,0.3)"}},media:{objectFit:"cover"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}});var R=function(e){var t=e.event,n=e.user,i=(e.startdate,P()),c=Object(r.useState)(!1),a=Object(j.a)(c,2),s=a[0],d=a[1],u=Object(r.useState)(!0),h=Object(j.a)(u,2),f=h[0],y=h[1],C=Object(r.useState)(null),L=Object(j.a)(C,2),T=L[0],R=L[1];return n?Object(I.jsx)(p.a,{item:!0,children:Object(I.jsxs)(b.a,{className:i.root,elevation:2,children:[Object(I.jsx)(k.a,{variant:"h5",m:2,children:Object(I.jsx)("strong",{children:t.title})}),t.image&&Object(I.jsx)(x.a,{component:"img",className:i.media,height:"200",image:t.image,title:t.title}),Object(I.jsxs)("div",{children:[Object(I.jsx)(k.a,{ml:2,fontSize:"1.2rem",fontWeight:"600",children:_()(t.start_date_time).format("MMMM Do")}),Object(I.jsxs)(k.a,{ml:2,mb:1,fontSize:"1rem",fontWeight:"600",children:[_()(t.start_date_time).format("h:mm a")," -"," ",_()(t.end_date_time).format("h:mm a")," "]})]}),Object(I.jsx)(k.a,{fontSize:"1rem",fontWeight:"300",ml:2,mr:1,mb:1,children:t.location}),Object(I.jsx)("div",{style:{display:"inline"},children:Object(I.jsxs)(k.a,{fontSize:".9rem",textAlign:"center",fontWeight:"600",children:["Categories",Object(I.jsx)(g.a,{onClick:function(){return y(!f)},children:Object(I.jsx)(S.a,{})})]})}),Object(I.jsx)(k.a,{mx:1,fontSize:".9rem",noWrap:f,children:t.categories}),Object(I.jsxs)(m.a,{disableSpacing:!0,children:[Object(I.jsx)(w.a,{onClick:function(){if(console.log(Object.keys(n).length),Object.keys(n).length>0){var e=function(){var e=Object(l.a)(o.a.mark((function e(){var r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/server/save_event",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({event_id:t.id,user_id:n.id})});case 2:return r=e.sent,e.next=5,r.json();case 5:i=e.sent,console.log(i);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();console.log(n),e()}else window.alert("Sign Up or Login to Save Events")},variant:"outlined",startIcon:Object(I.jsx)(S.a,{}),children:"Save"}),Object(I.jsx)(g.a,{href:t.link,styles:{marginLeft:"5px"},color:"success",children:Object(I.jsx)(W.a,{ml:2})}),t.contact_phone&&Object(I.jsx)(g.a,{onClick:function(e){R(e.currentTarget)},children:Object(I.jsx)(D.a,{})}),Object(I.jsx)(E.a,{open:Boolean(T),onClose:function(){return R(null)},anchorEl:T,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},style:{zIndex:"1500"},children:Object(I.jsx)("div",{style:{padding:"5px",border:"3px",borderColor:"blueviolet"},children:Object(I.jsxs)(k.a,{fontsize:"1.4rem",fontWeight:"700",children:[" ",t.contact_phone]})})}),Object(I.jsx)(N,{expand:s,onClick:function(){d(!s)},"aria-expanded":s,"aria-label":"show more",children:Object(I.jsx)(z.a,{})})]}),Object(I.jsx)(O.a,{in:s,timeout:"auto",unmountOnExit:!0,children:Object(I.jsx)(v.a,{children:Object(I.jsx)(x.a,{component:"img",height:"200",image:"https://i.insider.com/5c61cecf2628981bd4585b4a?width=1000&format=jpeg&auto=webp",title:t.title})})})]})}):Object(I.jsx)("h1",{children:"Rendering"})};var Y=function(e){var t=e.user,n=e.events;return console.log(n),console.log(t),Object(I.jsx)("div",{style:{marginTop:"100px",marginLeft:"130px"},children:Object(I.jsx)(p.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",spacing:6,children:n.map((function(e){return Object(I.jsx)(R,{event:e,user:t},e.id)}))})})};var B=function(e){var t=e.user,n=e.events;return n?Object(I.jsxs)("div",{children:[Object(I.jsx)("div",{style:{marginLeft:"75px"},children:Object(I.jsx)(p.a,{ml:5,container:!0,justify:"center",children:Object(I.jsx)("img",{style:{display:"flex",flexDirection:"column",margin:"auto",marginTop:"80px"},src:"https://upload.wikimedia.org/wikipedia/en/thumb/e/ed/Logo_of_the_New_York_City_Department_of_Parks_%26_Recreation.svg/800px-Logo_of_the_New_York_City_Department_of_Parks_%26_Recreation.svg.png",width:150,alt:"NYC Parks and Rec"})})}),Object(I.jsx)(Y,{events:n,user:t})]}):Object(I.jsx)("h1",{children:"Loading"})};var A=function(e){var t=e.user,n=e.events.filter((function(e){return e.categories.toLowerCase().includes("sports")}));if(console.log(n),n)return Object(I.jsx)("div",{style:{marginTop:"100px",marginLeft:"200px"},children:Object(I.jsx)(p.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",spacing:6,mt:"20",children:n.map((function(e){return Object(I.jsx)(R,{event:e,user:t},e.link)}))})})};var F=function(e){var t=e.user,n=e.events.filter((function(e){return e.categories.toLowerCase().includes("seniors")||e.categories.toLowerCase().includes("senior")||e.title.toLowerCase().includes("seniors")||e.title.toLowerCase().includes("senior")}));if(n)return Object(I.jsx)("div",{style:{marginTop:"100px",marginLeft:"200px"},children:Object(I.jsx)(p.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",spacing:6,mt:"20",children:n.map((function(e){return Object(I.jsx)(R,{event:e,user:t},e.link)}))})})};var M=function(e){var t=e.user,n=e.events.filter((function(e){return e.categories.toLowerCase().includes("history")||e.title.toLowerCase().includes("history")}));if(n)return Object(I.jsx)("div",{style:{marginTop:"100px",marginLeft:"200px"},children:Object(I.jsx)(p.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",spacing:6,mt:"20",children:n.map((function(e){return Object(I.jsx)(R,{event:e,user:t},e.link)}))})})};var J=function(e){var t=e.user,n=e.events.filter((function(e){return e.categories.toLowerCase().includes("dance")||e.categories.toLowerCase().includes("dance")}));if(n)return Object(I.jsx)("div",{style:{marginTop:"100px",marginLeft:"200px"},children:Object(I.jsx)(p.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",spacing:6,mt:"20",children:n.map((function(e){return Object(I.jsx)(R,{event:e,user:t},e.link)}))})})};var U=function(e){var t=e.user,n=e.events.filter((function(e){return e.categories.toLowerCase().includes("fitness")}));if(n)return Object(I.jsx)("div",{style:{marginTop:"100px",marginLeft:"200px"},children:Object(I.jsx)(p.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",spacing:6,mt:"20",children:n.map((function(e){return Object(I.jsx)(R,{event:e,user:t},e.link)}))})})};var H=function(e){var t=e.user,n=e.events.filter((function(e){return e.categories.toLowerCase().includes("music")||e.categories.toLowerCase().includes("concert")}));if(n)return Object(I.jsx)("div",{style:{marginTop:"100px",marginLeft:"200px"},children:Object(I.jsx)(p.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",spacing:6,mt:"20",children:n.map((function(e){return Object(I.jsx)(R,{event:e,user:t},e.link)}))})})},V=Object(h.a)({root:{minWidth:325,maxWidth:325,padding:"35px",display:"inline-block",boxShadow:"0 8px 40px -12px rgba(0,0,0,0.3)","&:hover":{boxShadow:"0 16px 70px -12.125px rgba(0,0,0,0.3)"}}});var G=function(e){var t=e.user,n=e.setUser,i=Object(r.useState)(!1),c=Object(j.a)(i,2),a=c[0],s=c[1],o=Object(r.useState)(!1),l=Object(j.a)(o,2),d=l[0],u=l[1],x=Object(r.useState)(""),h=Object(j.a)(x,2),f=h[0],m=h[1],O=Object(r.useState)(""),g=Object(j.a)(O,2),v=g[0],y=g[1],S=Object(r.useState)(t.profile.first_name),C=Object(j.a)(S,2),_=C[0],L=C[1],W=Object(r.useState)(t.profile.address),T=Object(j.a)(W,2),z=T[0],D=T[1],E=Object(r.useState)(null),N=Object(j.a)(E,2),P=N[0],R=N[1],Y=Object(r.useState)(null),B=Object(j.a)(Y,2),A=B[0],F=B[1],M=V();if(null===t||void 0===t?void 0:t.profile)return Object(I.jsx)("div",{style:{marginTop:"100px",marginLeft:"200px"},children:Object(I.jsx)(p.a,{item:!0,children:Object(I.jsxs)(b.a,{variant:"outlined",className:M.root,children:[Object(I.jsx)(k.a,{textAlign:"center",fontSize:"1.6rem",fontWeight:"600",children:"Profile"}),P&&Object(I.jsx)("div",{style:{color:"red"},children:P.map((function(e){return Object(I.jsx)(k.a,{fontSize:".875rem",style:{maxWidth:"300px",margin:"2px"},children:e},e)}))}),Object(I.jsx)(k.a,{ml:1,mb:1,fontSize:"1.6rem",children:_}),Object(I.jsx)(w.a,{onClick:function(){return s(!a)},children:"Edit First Name"}),a&&Object(I.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("/server/profile",{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({first_name:f,user_id:t.id})}).then((function(e){e.ok?e.json().then((function(e){var r=t;r.profile.first_name=e.first_name,n(r),L(e.first_name),R(null)})).then(m("")).then(s(!a)):e.json().then((function(e){return R(e.errors)}))}))},children:[Object(I.jsx)("input",{type:"text",id:"editFirstName",value:f,onChange:function(e){return m(e.target.value)}}),Object(I.jsx)(w.a,{type:"submit",children:"Submit"})]}),A&&Object(I.jsx)("div",{style:{color:"red"},children:A.map((function(e){return Object(I.jsx)(k.a,{fontSize:".875rem",style:{maxWidth:"300px",margin:"2px"},children:e},e)}))}),Object(I.jsx)(k.a,{ml:1,mb:1,fontSize:"1.4rem",children:z}),Object(I.jsx)(w.a,{onClick:function(){return u(!d)},children:"Edit Address"}),d&&Object(I.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("/server/profile",{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({address:v,user_id:t.id})}).then((function(e){e.ok?e.json().then((function(e){var r=t;r.profile.address=e.address,n(r),D(e.address),F(null)})).then(y("")).then(u(!d)):e.json().then((function(e){return F(e.errors)}))}))},children:[Object(I.jsx)("input",{type:"text",id:"editAddress",value:v,onChange:function(e){return y(e.target.value)}}),Object(I.jsx)(w.a,{type:"submit",children:"Submit"})]})]})})})},K=n(19),q=n(229),Q=Object(h.a)({root:{minWidth:325,maxWidth:325,padding:"35px",display:"inline-block",boxShadow:"0 8px 40px -12px rgba(0,0,0,0.3)","&:hover":{boxShadow:"0 16px 70px -12.125px rgba(0,0,0,0.3)"}},media:{objectFit:"cover"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}});var X=function(e){var t=e.user,n=e.setUser,i=Q(),c=Object(r.useState)(""),a=Object(j.a)(c,2),s=a[0],o=a[1],l=Object(r.useState)(""),d=Object(j.a)(l,2),u=d[0],x=d[1],h=Object(K.f)(),f=Object(r.useState)(null),m=Object(j.a)(f,2),O=m[0],g=m[1];return Object(I.jsx)("div",{style:{display:"block",marginTop:"100px",marginLeft:"200px"},children:Object(I.jsx)(p.a,{item:!0,children:Object(I.jsxs)(b.a,{variant:"outlined",className:i.root,children:[Object(I.jsx)(k.a,{textAlign:"center",fontSize:"1.6rem",fontWeight:"600",children:"User Info"}),O&&Object(I.jsx)("div",{style:{color:"red"},children:O.map((function(e){return Object(I.jsx)(k.a,{fontSize:".875rem",style:{maxWidth:"300px",margin:"2px"},children:e},e)}))}),Object(I.jsxs)("form",{style:{display:"flex",flexDirection:"column",maxWidth:350,minWidth:300},onSubmit:function(e){return function(e){e.preventDefault(),console.log("submit"),fetch("/server/profile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({first_name:s,address:u,user_id:t.id})}).then((function(e){e.ok?(e.json().then((function(e){var r=t;r.profile=e,n(r)})),h.push("/")):e.json().then((function(e){return g(e.errors)}))}))}(e)},children:[Object(I.jsx)(q.a,{label:"First Name",margin:"normal",onChange:function(e){return o(e.target.value)}}),Object(I.jsx)(q.a,{mb:2,label:"Address",margin:"normal",onChange:function(e){return x(e.target.value)}}),Object(I.jsx)(w.a,{mt:3,type:"submit",variant:"contained",children:"Submit"})]})]})})})};var Z=function(e){var t=e.user,n=e.setUser;return Object(I.jsx)("div",{style:{marginTop:"75px",marginRight:"20px"},children:Object(I.jsx)(p.a,{item:!0,container:!0,xs:12,sm:6,style:{padding:10,maxWidth:"100%"},alignItems:"center",direction:"column",justifyContent:"space-between",children:t.profile?Object(I.jsx)(G,{user:t,setUser:n}):Object(I.jsx)(X,{user:t,setUser:n})})})};var $=function(e){var t=e.user,n=e.events.filter((function(e){return e.categories.toLowerCase().includes("nature")||e.title.toLowerCase().includes("nature")||e.title.toLowerCase().includes("wildlife")||e.categories.toLowerCase().includes("wildlife")}));if(n)return Object(I.jsx)("div",{style:{marginTop:"100px",marginLeft:"200px"},children:Object(I.jsx)(p.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",spacing:6,mt:"20",children:n.map((function(e){return Object(I.jsx)(R,{event:e,user:t},e.link)}))})})};var ee=function(e){var t=e.user,n=e.events.filter((function(e){return e.categories.toLowerCase().includes("film")||e.title.toLowerCase().includes("film")||e.title.toLowerCase().includes("movie")||e.categories.toLowerCase().includes("movie")}));if(n)return Object(I.jsx)("div",{style:{marginTop:"100px",marginLeft:"200px"},children:Object(I.jsx)(p.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",spacing:6,mt:"20",children:n.map((function(e){return Object(I.jsx)(R,{event:e,user:t},e.link)}))})})};var te=function(e){var t=e.user,n=e.events.filter((function(e){return e.categories.toLowerCase().includes("art")||e.title.toLowerCase().includes("art")}));if(n)return Object(I.jsx)("div",{style:{marginTop:"100px",marginLeft:"200px"},children:Object(I.jsx)(p.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",spacing:6,mt:"20",children:n.map((function(e){return Object(I.jsx)(R,{event:e,user:t},e.link)}))})})};var ne=function(e){var t=e.user,n=e.events.filter((function(e){return e.categories.toLowerCase().includes("kids")||e.categories.toLowerCase().includes("youth")||e.categories.toLowerCase().includes("teen")}));if(n)return Object(I.jsx)("div",{style:{marginTop:"100px",marginLeft:"200px"},children:Object(I.jsx)(p.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",spacing:6,mt:"20",children:n.map((function(e){return Object(I.jsx)(R,{event:e,user:t},e.link)}))})})};var re=function(e){var t=e.onLogin,n=Object(r.useState)(""),i=Object(j.a)(n,2),c=i[0],a=i[1],s=Object(r.useState)(""),o=Object(j.a)(s,2),l=o[0],d=o[1],u=Object(r.useState)(""),b=Object(j.a)(u,2),x=b[0],h=b[1],f=Object(K.f)(),m=Object(r.useState)(null),O=Object(j.a)(m,2),g=O[0],v=O[1];return Object(I.jsx)("div",{children:Object(I.jsxs)(p.a,{container:!0,item:!0,children:[Object(I.jsx)("div",{}),Object(I.jsxs)("div",{children:[g&&Object(I.jsx)("div",{style:{color:"red",maxWidth:"300px"},children:g.map((function(e){return Object(I.jsx)(k.a,{fontSize:".875rem",style:{maxWidth:"300px",margin:"2px"},children:e},e)}))}),Object(I.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("/server/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:c,password_confirmation:l,email:x})}).then((function(e){e.ok?(e.json().then((function(e){return t(e)})),f.push("/")):e.json().then((function(e){return v(e.errors)}))}))},style:{display:"flex",flexDirection:"column",maxWidth:350,minWidth:300},children:[Object(I.jsx)(q.a,{label:"Email",margin:"normal",onChange:function(e){return h(e.target.value)}}),Object(I.jsx)(q.a,{type:"password",label:"Password",margin:"normal",onChange:function(e){return a(e.target.value)}}),Object(I.jsx)(q.a,{type:"password",label:"Password Confirm",margin:"normal",onChange:function(e){return d(e.target.value)}}),Object(I.jsx)(w.a,{type:"submit",color:"primary",variant:"contained",children:"Sign Up"})]})]})]})})};var ie=function(e){var t=e.onLogin,n=Object(r.useState)(""),i=Object(j.a)(n,2),c=i[0],a=i[1],s=Object(r.useState)(""),o=Object(j.a)(s,2),l=o[0],d=o[1],u=Object(K.f)(),b=Object(r.useState)(null),x=Object(j.a)(b,2),h=x[0],f=x[1];return Object(I.jsx)("div",{children:Object(I.jsxs)(p.a,{container:!0,item:!0,children:[Object(I.jsx)("div",{}),Object(I.jsxs)("div",{children:[h&&Object(I.jsx)("div",{style:{color:"red"},children:h.map((function(e){return Object(I.jsx)(k.a,{fontSize:".875rem",style:{maxWidth:"300px",margin:"2px"},children:e},e)}))}),Object(I.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("/server/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c,password:l})}).then((function(e){e.ok?(e.json().then((function(e){return t(e)})),u.push("/")):e.json().then((function(e){return f(e.errors)}))}))},style:{display:"flex",flexDirection:"column",maxWidth:350,minWidth:300},children:[Object(I.jsx)(q.a,{label:"Email",margin:"normal",onChange:function(e){return a(e.target.value)}}),Object(I.jsx)(q.a,{type:"password",label:"Password",margin:"normal",onChange:function(e){return d(e.target.value)}}),Object(I.jsx)("div",{style:{height:20}}),Object(I.jsx)(w.a,{type:"submit",color:"primary",variant:"contained",children:"Log In"})]})]}),Object(I.jsx)("div",{})]})})};var ce=function(e){var t=e.onLogin;return Object(I.jsxs)("div",{style:{marginLeft:"200px",marginTop:"80px",marginRight:"50px"},children:[Object(I.jsx)(p.a,{container:!0,justify:"center",children:Object(I.jsx)("img",{style:{display:"flex",flexDirection:"column",margin:"auto",marginBottom:"25px"},src:"https://upload.wikimedia.org/wikipedia/en/thumb/e/ed/Logo_of_the_New_York_City_Department_of_Parks_%26_Recreation.svg/800px-Logo_of_the_New_York_City_Department_of_Parks_%26_Recreation.svg.png",width:200,alt:"NYC Parks and Rec"})}),Object(I.jsxs)(p.a,{item:!0,container:!0,mr:4,xs:12,sm:6,style:{padding:10,maxWidth:"100%"},alignItems:"flex-start",direction:"row",justifyContent:"space-around",children:[Object(I.jsx)(ie,{onLogin:t}),Object(I.jsx)(re,{onLogin:t})]})]})};var ae=function(e){var t=e.user,n=e.events.filter((function(e){return e.categories.toLowerCase().includes("education")}));if(n)return Object(I.jsx)("div",{style:{marginTop:"100px",marginLeft:"200px"},children:Object(I.jsx)(p.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",spacing:6,mt:"20",children:n.map((function(e){return Object(I.jsx)(R,{event:e,user:t},e.link)}))})})};var se=function(e){var t=e.onLogout,n=Object(K.f)();function r(){return(r=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/server/logout",{method:"DELETE"});case 2:e.sent.ok&&(t(),n.push("/"));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(I.jsx)(w.a,{style:{borderRadius:5,backgroundColor:"white",padding:"5px 7px",fontSize:".9rem",fontWeight:"300"},onClick:function(){return r.apply(this,arguments)},variant:"text",children:"Logout"})},oe=n(17),le=n(227),je=n(226),de=n(228),ue=n(110),be=n.n(ue),xe=n(250),he=n(251),fe=n(252),pe=Object(h.a)({topbar:{zIndex:"1400",position:"absolute",right:"0",marginLeft:"150px"},rightButtons:{float:"right",display:"inline"}});var me=function(e){var t=e.onLogout,n=e.loggedIn,r=e.handleSearchBarValue,i=e.date,c=e.setDate,a=pe();return Object(I.jsx)(xe.a,{className:a.topbar,children:Object(I.jsx)(he.a,{className:a.topbar,children:Object(I.jsxs)(fe.a,{children:[Object(I.jsx)(k.a,{variant:"h6",component:"div",children:"NYC Park Events"}),Object(I.jsx)("input",{style:{padding:"7px",marginLeft:"25px",flexBasis:"25%",marginRight:"25px"},onChange:function(e){return r(e.target.value)},placeholder:"Search By Event Title",type:"search"}),Object(I.jsx)(je.b,{dateAdapter:le.a,children:Object(I.jsx)(de.a,{clearable:!0,label:"Search Date",value:i,onChange:function(e){c(e)},renderInput:function(e){var t=e.inputRef,n=e.inputProps,r=e.InputProps;return Object(I.jsxs)(xe.a,{sx:{display:"flex",alignItems:"center"},children:[Object(I.jsx)("input",Object(d.a)(Object(d.a)({style:{padding:"7px",marginLeft:"25px",flexBasis:"25%",marginRight:"1px"},ref:t},n),{},{placeholder:"Search By Date"})),i?Object(I.jsx)(g.a,{onClick:function(e){return function(e){e.stopPropagation(),c(null)}(e)},children:Object(I.jsx)(be.a,{})}):null===r||void 0===r?void 0:r.endAdornment]})}})}),Object(I.jsx)("div",{style:{width:"20px",flexGrow:"1"}}),Object(I.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end"},children:[Object(I.jsxs)("div",{children:[" ",n?Object(I.jsx)(w.a,{style:{borderRadius:5,backgroundColor:"white",padding:"5px 7px",fontSize:".9rem",fontWeight:"300",marginRight:"10px"},variant:"text",component:oe.b,to:"/profile",exact:!0,children:"Profile"}):null," "]}),Object(I.jsxs)("div",{children:[" ",n?Object(I.jsx)(w.a,{style:{borderRadius:5,backgroundColor:"white",padding:"5px 7px",fontSize:".9rem",fontWeight:"300",marginRight:"10px"},variant:"text",component:oe.b,to:"/saved_events",exact:!0,children:"Saved Events"}):null," "]}),Object(I.jsx)("div",{}),Object(I.jsx)("div",{children:n?Object(I.jsx)(se,{onLogout:t}):Object(I.jsx)(w.a,{style:{borderRadius:5,backgroundColor:"white",padding:"5px 7px",fontSize:".9rem",fontWeight:"300"},component:oe.b,to:"/auth",exact:!0,children:"Signup/Login"})})]})]})})})},Oe=n(96),ge=n.n(Oe),ve=n(95),ye=n.n(ve),Se=Object(f.a)((function(e){e.expand;var t=Object(u.a)(e,["expand"]);return Object(I.jsx)(w.a,Object(d.a)({},t))}))((function(e){var t=e.theme;e.expand;return{transform:"rotate(0deg)",marginLeft:"auto",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest})}})),we=Object(h.a)({root:{minWidth:325,maxWidth:325,display:"inline-block",boxShadow:"0 8px 40px -12px rgba(0,0,0,0.3)","&:hover":{boxShadow:"0 16px 70px -12.125px rgba(0,0,0,0.3)"}},media:{objectFit:"cover"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}});var Ce=function(e){var t=e.savedEvent,n=e.user,i=e.setSavedEvents,c=e.savedEvents,a=we();console.log(t);var s=Object(r.useState)(!0),d=Object(j.a)(s,2),u=d[0],h=d[1],f=Object(r.useState)(1),y=Object(j.a)(f,2),C=y[0],L=y[1],T=Object(r.useState)(!1),z=Object(j.a)(T,2),N=z[0],P=z[1],R=Object(r.useState)(null),Y=Object(j.a)(R,2),B=Y[0],A=Y[1],F=Object(r.useState)(null),M=Object(j.a)(F,2),J=M[0],U=M[1],H=Object(r.useState)(null),V=Object(j.a)(H,2),G=V[0],K=V[1];return n?Object(I.jsx)(p.a,{item:!0,children:Object(I.jsxs)(b.a,{className:a.root,elevation:2,children:[Object(I.jsx)(k.a,{variant:"h5",m:2,children:t.event.title}),t.event.image&&Object(I.jsx)(x.a,{component:"img",className:a.media,height:"200",image:t.event.image,title:"savedEvent.event.title"}),Object(I.jsx)(k.a,{ml:2,fontSize:"1.2rem",fontWeight:"600",children:_()(t.event.start_date_time).format("MMMM Do")}),Object(I.jsxs)(k.a,{ml:2,mb:1,fontSize:"1rem",fontWeight:"400",children:[_()(t.event.start_date_time).format("h:mm a")," -"," ",_()(t.event.end_date_time).format("h:mm a")]}),Object(I.jsx)(k.a,{fontSize:"1rem",fontWeight:"300",ml:2,mb:1,children:t.event.location}),Object(I.jsx)("div",{style:{display:"inline"},children:Object(I.jsxs)(k.a,{fontSize:".9rem",textAlign:"center",fontWeight:"600",children:["Categories",Object(I.jsx)(g.a,{onClick:function(){return h(!u)},children:Object(I.jsx)(S.a,{})})]})}),Object(I.jsx)(k.a,{mx:1,fontSize:".9rem",noWrap:u,children:t.event.categories}),G&&Object(I.jsx)(k.a,{fontSize:".875rem",style:{maxWidth:"300px",margin:"2px"},children:G},G),Object(I.jsxs)(m.a,{disableSpacing:!0,children:[Object(I.jsx)("div",{children:Object(I.jsx)(w.a,{color:"error",endIcon:Object(I.jsx)(ye.a,{}),onClick:function(){fetch("/server/saved_events/".concat(t.id),{method:"DELETE"}).then((function(e){e.ok?e.json().then((function(e){return console.log(e)})):e.json().then((function(e){return K(e.errors)}))}));var e=c.filter((function(e){return e.id!==t.id}));i(e)},children:"Delete"})}),Object(I.jsx)(g.a,{href:t.event.link,styles:{marginLeft:"5px"},color:"success",children:Object(I.jsx)(W.a,{ml:2})}),t.event.contact_phone&&Object(I.jsx)(g.a,{onClick:function(e){A(e.currentTarget)},children:Object(I.jsx)(D.a,{})}),Object(I.jsx)(E.a,{open:Boolean(B),onClose:function(){return A(null)},anchorEl:B,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},style:{zIndex:"1500"},children:Object(I.jsx)("div",{style:{padding:"5px",border:"3px",borderColor:"blueviolet"},children:Object(I.jsxs)(k.a,{fontsize:"1.4rem",fontWeight:"700",children:[" ",t.event.contact_phone]})})}),Object(I.jsx)(Se,{expand:N,onClick:function(){P(!N)},"aria-expanded":N,"aria-label":"show more",endIcon:Object(I.jsx)(ge.a,{}),children:"Notifications"})]}),Object(I.jsx)(O.a,{in:N,timeout:"auto",unmountOnExit:!0,children:Object(I.jsxs)(v.a,{children:[J&&Object(I.jsx)("div",{style:{color:"red"},children:J.map((function(e){return Object(I.jsx)(k.a,{fontSize:".875rem",style:{maxWidth:"300px",margin:"2px"},children:e},e)}))}),t.notifications?t.notifications.map((function(e){return Object(I.jsxs)(k.a,{fontSize:".9rem",fontWeight:"600",textAlign:"center",children:[e.days_before," days before."," ",Object(I.jsx)(g.a,{onClick:function(){return n=e.id,void fetch("/server/notifications/".concat(n),{method:"DELETE"}).then((function(e){if(e.ok){var r=t.notifications.filter((function(e){return e.id!==n}));t.notifications=r,console.log(t);var a=t,s=c.map((function(e){return e.id===a.id?a:e}));i(s)}}));var n},color:"error",children:Object(I.jsx)(ye.a,{})})]},e.id)})):null,Object(I.jsxs)("form",{onSubmit:function(e){function r(){return(r=Object(l.a)(o.a.mark((function e(){var r,a,s,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/server/notifications",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({days_before:C,saved_event_id:t.id,user_id:n.id})});case 2:if(!(r=e.sent).ok){e.next=14;break}return e.next=6,r.json();case 6:a=e.sent,console.log(a),s=c.map((function(e){return e.id===t.id&&t.notifications?(e.notifications.push(a),e):e.id===t.id?(e.notifications=[a],e):e})),console.log(s),i(s),U(null),e.next=18;break;case 14:return e.next=16,r.json();case 16:l=e.sent,U(l.errors);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e.preventDefault(),console.log(C),function(){r.apply(this,arguments)}()},style:{marginLeft:"82px"},children:[Object(I.jsxs)("select",{name:"notification",id:"notification",onChange:function(e){return L(e.target.value)},children:[Object(I.jsx)("option",{value:1,children:"1 day before"}),Object(I.jsx)("option",{value:2,children:"2 days before"}),Object(I.jsx)("option",{value:3,children:"3 days before"})]}),Object(I.jsx)(g.a,{color:"success",type:"submit",children:Object(I.jsx)(ge.a,{})})]})]})})]},t.event.link)}):Object(I.jsx)("h1",{children:"Rendering"})};var _e=function(e){var t=e.user,n=Object(r.useState)(null),i=Object(j.a)(n,2),c=i[0],a=i[1];return Object(r.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/server/saved_events");case 2:if(!(t=e.sent).ok){e.next=10;break}return e.next=6,t.json();case 6:n=e.sent,a(n),e.next=11;break;case 10:console.log(t.errors);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),c?Object(I.jsx)("div",{style:{marginTop:"100px",marginLeft:"150px"},children:Object(I.jsx)(p.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",spacing:6,children:c.map((function(e){return Object(I.jsx)(Ce,{savedEvents:c,setSavedEvents:a,user:t,savedEvent:e},e.id)}))})}):Object(I.jsx)("h1",{children:"Rendering"})},ke=n(235),Le=n(239),We=n(232),Te=n(240),ze=Object(h.a)({drawer:{width:150,zIndex:"1400",marginTop:"60px"},drawerPaper:{width:150,zIndex:"1400",top:"unset",marginTop:"80px"}});var De=function(e){var t=e.handleCategorySearch,n=ze();return Object(I.jsxs)(ke.a,{variant:"permanent",anchor:"left",classes:{paper:n.drawerPaper},children:[" ",Object(I.jsx)("img",{style:{marginLeft:"28px",marginBottom:"10px"},src:"https://upload.wikimedia.org/wikipedia/en/thumb/e/ed/Logo_of_the_New_York_City_Department_of_Parks_%26_Recreation.svg/800px-Logo_of_the_New_York_City_Department_of_Parks_%26_Recreation.svg.png",width:90,alt:"NYC Parks and Rec"}),Object(I.jsx)("input",{onChange:function(e){return t(e.target.value)},type:"text",placeholder:"Search By Category",style:{width:"120px",marginLeft:"auto",marginRight:"auto"}}),Object(I.jsx)(Le.a,{children:Object(I.jsxs)("div",{style:{fontWeight:"400"},children:[Object(I.jsx)(We.a,{button:!0,component:oe.b,to:"/",children:Object(I.jsxs)(Te.a,{children:[Object(I.jsx)(k.a,{children:"Home"})," "]})}),Object(I.jsx)(We.a,{button:!0,component:oe.b,to:"/sports",children:Object(I.jsxs)(Te.a,{children:[Object(I.jsx)(k.a,{children:"Sports"})," "]})}),Object(I.jsx)(We.a,{button:!0,component:oe.b,to:"/seniors",children:Object(I.jsxs)(Te.a,{children:[" ",Object(I.jsx)(k.a,{children:"Seniors"})," "]})}),Object(I.jsx)(We.a,{button:!0,component:oe.b,to:"/education",children:Object(I.jsxs)(Te.a,{children:[" ",Object(I.jsx)(k.a,{children:"Education"})," "]})}),Object(I.jsx)(We.a,{button:!0,component:oe.b,to:"/kids_youth",children:Object(I.jsxs)(Te.a,{children:[" ",Object(I.jsx)(k.a,{children:"Kids/Youth"})," "]})}),Object(I.jsx)(We.a,{button:!0,component:oe.b,to:"/fitness",children:Object(I.jsxs)(Te.a,{children:[" ",Object(I.jsx)(k.a,{children:"Fitness"})," "]})}),Object(I.jsx)(We.a,{button:!0,component:oe.b,to:"/dance",children:Object(I.jsxs)(Te.a,{children:[" ",Object(I.jsx)(k.a,{children:"Dance"})," "]})}),Object(I.jsx)(We.a,{button:!0,component:oe.b,to:"/art",children:Object(I.jsxs)(Te.a,{children:[" ",Object(I.jsx)(k.a,{children:"Art"})," "]})}),Object(I.jsx)(We.a,{button:!0,component:oe.b,to:"/music",children:Object(I.jsxs)(Te.a,{children:[Object(I.jsx)(k.a,{children:"Music"})," "]})}),Object(I.jsx)(We.a,{button:!0,component:oe.b,to:"/film",children:Object(I.jsxs)(Te.a,{children:[" ",Object(I.jsx)(k.a,{children:"Film"})," "]})}),Object(I.jsx)(We.a,{button:!0,component:oe.b,to:"/nature",children:Object(I.jsxs)(Te.a,{children:[" ",Object(I.jsx)(k.a,{children:"Nature"})," "]})}),Object(I.jsx)(We.a,{button:!0,component:oe.b,to:"/history",children:Object(I.jsxs)(Te.a,{children:[" ",Object(I.jsx)(k.a,{children:"History"})," "]})})]})})]})};var Ee=function(){var e=Object(r.useState)(null),t=Object(j.a)(e,2),n=t[0],i=t[1],c=Object(r.useState)(""),a=Object(j.a)(c,2),s=a[0],d=a[1],u=Object(r.useState)([]),b=Object(j.a)(u,2),x=b[0],h=b[1],f=Object(r.useState)(""),p=Object(j.a)(f,2),m=p[0],O=p[1],g=Object(r.useState)(""),v=Object(j.a)(g,2),y=v[0],S=v[1],w=Object(r.useState)(null),C=Object(j.a)(w,2),k=C[0],L=C[1];Object(r.useEffect)((function(){fetch("/server/me").then((function(e){e.ok?(e.json().then((function(e){return i(e)})),d(!0)):i([])}))}),[]),Object(r.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/server/events");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,h(n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),console.log("Fetched")}),[]);var W=x.filter((function(e){return e.title.toLowerCase().includes(m)&&e.categories.toLowerCase().includes(y)}));function T(){return k?W.filter((function(e){return _()(e.start_date_time).format("YYYY-MM-DD")===_()(k._d).format("YYYY-MM-DD")})):W}return console.log(T()),Object(I.jsx)("div",{children:Object(I.jsxs)(oe.a,{children:[Object(I.jsx)(me,{date:k,setDate:L,loggedIn:s,onLogout:function(){i([]),d(!1)},user:n,handleSearchBarValue:function(e){O(e.toLowerCase())}}),Object(I.jsx)(De,{handleCategorySearch:function(e){S(e.toLowerCase())}}),Object(I.jsxs)(K.c,{children:[Object(I.jsx)(K.a,{exact:!0,path:"/auth",children:Object(I.jsx)(ce,{onLogin:function(e){i(e),d(!0)}})}),Object(I.jsx)(K.a,{exact:!0,path:"/",children:Object(I.jsx)(B,{user:n,events:T()})}),Object(I.jsx)(K.a,{exact:!0,path:"/sports",children:Object(I.jsx)(A,{user:n,events:T()})}),Object(I.jsx)(K.a,{exact:!0,path:"/seniors",children:Object(I.jsx)(F,{user:n,events:T()})}),Object(I.jsx)(K.a,{exact:!0,path:"/education",children:Object(I.jsx)(ae,{user:n,events:T()})}),Object(I.jsx)(K.a,{exact:!0,path:"/kids_youth",children:Object(I.jsx)(ne,{user:n,events:T()})}),Object(I.jsx)(K.a,{exact:!0,path:"/fitness",children:Object(I.jsx)(U,{user:n,events:T()})}),Object(I.jsx)(K.a,{exact:!0,path:"/film",children:Object(I.jsx)(ee,{user:n,events:T()})}),Object(I.jsx)(K.a,{exact:!0,path:"/art",children:Object(I.jsx)(te,{user:n,events:T()})}),Object(I.jsx)(K.a,{exact:!0,path:"/music",children:Object(I.jsx)(H,{user:n,events:T()})}),Object(I.jsx)(K.a,{exact:!0,path:"/dance",children:Object(I.jsx)(J,{user:n,events:T()})}),Object(I.jsx)(K.a,{exact:!0,path:"/nature",children:Object(I.jsx)($,{user:n,events:T()})}),Object(I.jsx)(K.a,{exact:!0,path:"/history",children:Object(I.jsx)(M,{user:n,events:T()})}),Object(I.jsx)(K.a,{exact:!0,path:"/profile",children:Object(I.jsx)(Z,{user:n,setUser:i})}),Object(I.jsx)(K.a,{exact:!0,path:"/saved_events",children:Object(I.jsx)(_e,{user:n})})]})]})})},Ie=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,254)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),r(e),i(e),c(e),a(e)}))},Ne=n(241),Pe=n(111),Re=Object(Pe.a)({typography:{fontFamily:"Raleway"}});a.a.render(Object(I.jsx)(i.a.StrictMode,{children:Object(I.jsx)(Ne.a,{theme:Re,children:Object(I.jsx)(Ee,{})})}),document.getElementById("root")),Ie()}},[[153,1,2]]]);
//# sourceMappingURL=main.2c22e166.chunk.js.map